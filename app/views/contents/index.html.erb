<div class="filter-buttons">
  <%= link_to "All", contents_path, class: "btn btn-secondary #{'active' unless @filter}" %>
  <%= link_to "Blogs", contents_path(filter: 'blog'), class: "btn btn-secondary #{@filter == 'blog' ? 'active' : ''}" %>
  <%= link_to "Images", contents_path(filter: 'image'), class: "btn btn-secondary #{@filter == 'image' ? 'active' : ''}" %>
  <%= link_to "Quotes", contents_path(filter: 'quote'), class: "btn btn-secondary #{@filter == 'quote' ? 'active' : ''}" %>
  <%= link_to "Playlists", contents_path(filter: 'spotify'), class: "btn btn-secondary #{@filter == 'spotify' ? 'active' : ''}" %>
</div>
<div class="container">
  <% @all_content.each do |content| %>
    <% if content.class == Content %>
      <% case content.content_type %>
      <% when 'image' %>
        <%= cl_image_tag(content.photo.key) %>
      <% when 'blog' %>
        <div class="blog-card">
          <%= link_to content_path(content), class: 'card-link' do %>
            <div class="card-body">
              <h5 class="card-title"><%= content.title %></h5>
              <%= link_to 'read more...', content_path(content) %>
            </div>
          <% end %>
        </div>
      <% when 'quote' %>
        <div class="quote-card">
          <%= link_to content_path(content), class: 'card-link' do %>
            <div class="card-body">
              <h5 class="card-title">"<%= content.title %>"</h5>
            </div>
          <% end %>
        </div>
      <% when 'spotify' %>
        <% if content[:preview_url] %>
          <p>Preview:</p>
          <audio controls>
            <source src="<%= content[:preview_url] %>" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        <% end %>
        <iframe src="<%= content[:embed_url] %>" frameborder="1" allowtransparency="true" allow="encrypted-media"></iframe>
      <% end %> <!-- Close the case statement here -->
    <% end %> <!-- Close the if statement -->
  <% end %> <!-- Close the each loop -->
</div>
